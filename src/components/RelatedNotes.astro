---
import type { CollectionEntry } from "astro:content";

interface Props {
	relatedNotes: CollectionEntry<"notes">[];
}

const { relatedNotes } = Astro.props;
---

{relatedNotes.length > 0 && (
  <aside class="mt-12 pt-8 border-t border-border" aria-label="Related TIL">
    <h3 class="text-sm font-medium text-muted-foreground mb-4">
      Related
    </h3>
    
    <nav>
      <ul class="space-y-3">
        {relatedNotes.map((note, index) => (
          <li>
            <a
              href={`/${note.slug}`}
              class="block p-3 rounded-lg border border-border bg-card hover:bg-muted/30 transition-colors min-h-[60px]"
            >
              <div class="text-xs text-muted-foreground mb-1 font-mono">
                {note.data.date.toISOString().split('T')[0]}
              </div>
              <div class="text-sm font-medium text-foreground line-clamp-2">
                {note.data.title}
              </div>
            </a>
          </li>
        ))}
      </ul>
    </nav>
  </aside>
)}
